{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/ben/Repos/Integradora-HonorTech/RestaurantExpo/app/components/Comentarios/FormCom.js\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Icon, Avatar, Image, Input, Button } from \"react-native-elements\";\nimport { firebaseApp } from \"../../utils/firebase\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\nimport { useNavigation } from \"@react-navigation/native\";\nvar db = firebase.firestore(firebaseApp);\nvar WidthScreen = Dimensions.get(\"window\").width;\nexport default function FormCom(toast) {\n  var navegacion = useNavigation();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      nombre = _useState2[0],\n      setNombre = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      descripcion = _useState4[0],\n      setDescripcion = _useState4[1];\n\n  var toastRef = toast.toastRef;\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var agregar = function agregar() {\n    var user = firebase.auth().currentUser;\n    var comentario = {\n      idUser: user.uid,\n      nombre: nombre,\n      descripcion: descripcion,\n      fecha: new Date()\n    };\n\n    if (!nombre || !descripcion) {\n      toastRef.current.show(\"No puedes dejar campos vacios\");\n    } else {\n      db.collection(\"comments\").add(comentario).then(function () {\n        setIsLoading(false);\n        navegacion.navigate(\"Comentarios\", {});\n      }).catch(function () {\n        toastRef.current.show(\"Error al registrar Comentario\");\n        setIsLoading(false);\n      });\n    }\n  };\n\n  return React.createElement(ScrollView, {\n    style: styles.scroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, React.createElement(Formulario, {\n    setNombre: setNombre,\n    setDescripcion: setDescripcion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Guardar Comentario\",\n    buttonStyle: styles.btn,\n    onPress: agregar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Formulario(propiedades) {\n  var setNombre = propiedades.setNombre,\n      setDescripcion = propiedades.setDescripcion;\n  return React.createElement(View, {\n    style: styles.vista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, React.createElement(Input, {\n    placeholder: \"Nombre Comentario\",\n    containerStyle: styles.form,\n    onChange: function onChange(e) {\n      return setNombre(e.nativeEvent.text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Descripci\\xF3n\",\n    multiline: true,\n    inputContainerStyle: styles.textArea,\n    onChange: function onChange(e) {\n      return setDescripcion(e.nativeEvent.text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  scroll: {\n    height: \"100%\"\n  },\n  form: {\n    width: \"100%\"\n  },\n  vista: {\n    marginTop: 35,\n    marginBottom: 10\n  },\n  textArea: {\n    height: 100,\n    width: \"100%\",\n    padding: 0,\n    margin: 0\n  },\n  btn: {\n    backgroundColor: \"#0A6ED3\",\n    margin: 20\n  },\n  vistaImagenes: {\n    flexDirection: \"row\",\n    marginLeft: 20,\n    marginRight: 20,\n    marginTop: 30\n  },\n  icono: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: 10,\n    height: 70,\n    width: 70,\n    backgroundColor: \"#e3e3e3\"\n  },\n  avatar: {\n    width: 70,\n    height: 70,\n    marginRight: 10\n  }\n});","map":{"version":3,"sources":["/home/ben/Repos/Integradora-HonorTech/RestaurantExpo/app/components/Comentarios/FormCom.js"],"names":["React","useState","Icon","Avatar","Image","Input","Button","firebaseApp","firebase","useNavigation","db","firestore","WidthScreen","Dimensions","get","width","FormCom","toast","navegacion","nombre","setNombre","descripcion","setDescripcion","toastRef","isLoading","setIsLoading","agregar","user","auth","currentUser","comentario","idUser","uid","fecha","Date","current","show","collection","add","then","navigate","catch","styles","scroll","btn","Formulario","propiedades","vista","form","e","nativeEvent","text","textArea","StyleSheet","create","height","marginTop","marginBottom","padding","margin","backgroundColor","vistaImagenes","flexDirection","marginLeft","marginRight","icono","alignItems","justifyContent","avatar"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { StyleSheet, View, ScrollView, Alert, Dimensions } from \"react-native\";\r\nimport { Icon, Avatar, Image, Input, Button } from \"react-native-elements\";\r\nimport { firebaseApp } from \"../../utils/firebase\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\";\r\nimport {useNavigation} from \"@react-navigation/native\"\r\n\r\n\r\nconst db = firebase.firestore(firebaseApp);\r\n\r\n//Extraemos el ancho de la ventana para ajustar la imagen al tamaño del dispositivo\r\nconst WidthScreen = Dimensions.get(\"window\").width;\r\n\r\nexport default function FormCom(toast) {\r\n  const navegacion=useNavigation();\r\n  //Generamos una variable de estado para cada campo\r\n\r\n  const [nombre,setNombre]=useState(\"\");\r\n  const [descripcion, setDescripcion] = useState(\"\");\r\n  const { toastRef } = toast;\r\n  const [isLoading, setIsLoading] = useState(false); \r\n  /*Función que nos mostrará el valor de las variables de estado\r\n que contendrán la información de los campos del formulario*/\r\n  const agregar = () => {\r\n    \r\n    const user = firebase.auth().currentUser; \r\n   \r\n\r\n    var comentario={\r\n      idUser: user.uid,\r\n      nombre:nombre,\r\n      descripcion:descripcion,\r\n      fecha: new Date()\r\n    }\r\n\r\n    \r\n\r\n    //Verificamos que no se envíen datos vacíos\r\n    if (!nombre || !descripcion) {\r\n      //Enviamos el mensaje al cuerpo del toast para hacerlo visible\r\n      toastRef.current.show(\"No puedes dejar campos vacios\");\r\n    }  else{\r\n      db.collection(\"comments\") \r\n    .add(comentario) \r\n    .then(() => { \r\n        /*si se almacena el comentario, ejecutamos la actualización \r\n        del raiting de la sucursal*/ \r\n      setIsLoading(false); \r\n      navegacion.navigate(\"Comentarios\", { \r\n      }) \r\n    }) \r\n    .catch(() => { \r\n      toastRef.current.show(\"Error al registrar Comentario\"); \r\n      setIsLoading(false); \r\n    }); \r\n    }\r\n  };\r\n\r\n \r\n  return (\r\n    <ScrollView style={styles.scroll}>\r\n     \r\n      <Formulario\r\n \r\n        setNombre={setNombre}\r\n        setDescripcion={setDescripcion}\r\n      />\r\n      <Button\r\n        title=\"Guardar Comentario\"\r\n        buttonStyle={styles.btn}\r\n        /*Al dar clic activamos el método agregar */\r\n        onPress={agregar}\r\n      />\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\n/*Función que contiene la estructura del formulario\r\nrecibe en el apartado de propiedades las funciones set de las variables de estado*/\r\nfunction Formulario(propiedades) {\r\n  const { setNombre, setDescripcion } = propiedades;\r\n\r\n  return (\r\n    <View style={styles.vista}>\r\n    \r\n      <Input\r\n        placeholder=\"Nombre Comentario\"\r\n        containerStyle={styles.form}\r\n        //Modificamos el valor de la variable de estado acorde a lo que el usuario escribe\r\n        onChange={(e) => setNombre(e.nativeEvent.text)}\r\n      />\r\n      <Input\r\n        placeholder=\"Descripción\"\r\n        //Definimos multiples lineas para convertir en un text area\r\n        multiline={true}\r\n        inputContainerStyle={styles.textArea}\r\n        //Modificamos el valor de la variable de estado acorde a lo que el usuario escribe\r\n        onChange={(e) => setDescripcion(e.nativeEvent.text)}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  scroll: {\r\n    height: \"100%\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n  },\r\n  vista: {\r\n    marginTop: 35,\r\n    marginBottom: 10,\r\n  },\r\n  textArea: {\r\n    height: 100,\r\n    width: \"100%\",\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n\r\n  btn: {\r\n    backgroundColor: \"#0A6ED3\",\r\n    margin: 20,\r\n  },\r\n  vistaImagenes: {\r\n    flexDirection: \"row\",\r\n    marginLeft: 20,\r\n    marginRight: 20,\r\n    marginTop: 30,\r\n  },\r\n  icono: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    marginRight: 10,\r\n    height: 70,\r\n    width: 70,\r\n    backgroundColor: \"#e3e3e3\",\r\n  },\r\n  avatar: {\r\n    width: 70,\r\n    height: 70,\r\n    marginRight: 10,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}